\usepackage{tikz}
\usetikzlibrary{automata, positioning, arrows}

\usepackage{xstring}

\newenvironment{turingmachine}[1]{
\textbf{Tape}\\
\vspace{0.2em}
\begin{tikzpicture}[scale=0.9, every node/.style={scale=0.9}]
    \node at (-3.5,0.5) {$\dots$};
    \foreach \x in {1,...,7} {
        \draw (\x - 4,0) rectangle +(1,1);
        \node at (\x - 4 + 0.5,0.5) {\StrChar{#1}{\x}};
    }
    \node at (4.5, 0.5) {$\dots$};
    \fill[gray!40] (0,-0.6) -- (0.5,-0.1) -- (1,-0.6);
\end{tikzpicture}\\
\vspace{0.5em}
\textbf{State Diagram}\\
\vspace{0.2em}
\begin{tikzpicture}[->, % makes the edges directed
    >=stealth, % makes the arrow heads bold
    node distance=3cm, % specifies the minimum distance between two nodes. Change if necessary.
    every state/.style={fill=gray!10}, % sets the properties for each ’state’ node
    initial text=$ $, % sets the text that appears on the start arrow
    current state/.style={
        fill=gray!40
    }, scale=0.9, every node/.style={scale=0.9}]}%
{\end{tikzpicture}}%
